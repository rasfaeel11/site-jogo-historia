<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SimulaÃ§Ã£o de Combate - O Canto</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Spectral:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/jogo.css">
</head>
<body>

    <nav class="nav-bar" style="position: relative; background: transparent;">
        <a href="index.html" class="btn-primary">VOLTAR</a>
        <div style="font-family: var(--font-title); color: var(--gold-bright);">SISTEMA DE BATALHA</div>
    </nav>

    <div class="game-container">

        <div id="tela-menu" class="creation-panel">
            <h1 style="font-size: 2.5rem; margin-bottom: 2rem;">Nova EncarnaÃ§Ã£o</h1>
            
            <div class="input-group">
                <label class="input-label">Nome do Avatar</label>
                <input type="text" id="inputNome" class="mystic-input" placeholder="Ex: Elareth">
            </div>

            <div class="input-group">
                <label class="input-label">Ordem Sagrada</label>
                <select id="selectClasse" class="mystic-input">
                    <option value="LUMINAR">ğŸ›¡ï¸ Luminar (Tank)</option>
                    <option value="ENTROPISTA">ğŸŒ€ Entropista (Debuff)</option>
                    <option value="CANTOR_DE_EALEN">ğŸµ Cantor de EÃ¤len (Control)</option>
                    <option value="GUARDIAO_SINGULARIDADE">ğŸŒŒ GuardiÃ£o (Bruiser)</option>
                    <option value="SOMBRILICO">ğŸŒ‘ SombrÃ­lico (Anti-Mago)</option>
                    <option value="VIAJANTE_TALUEN">â³ Viajante (Speed)</option>
                    <option value="FORJARDENTE">ğŸ”¥ Forjardente (HÃ­brido)</option>
                    <option value="LUNATH_ANCESTRAL">ğŸŒ¿ Lunath (Healer)</option>
                    <option value="RACHADOR_HARMONIA">ğŸ¯ Rachador (Sniper)</option>
                    <option value="MISTICO_ENTALMA">âš›ï¸ MÃ­stico (Utility)</option>
                </select>
            </div>

            <button onclick="comecarJogo()" class="btn-primary" style="width: 100%;">MATERIALIZAR</button>
        </div>


        <div id="tela-jogo" class="hidden">
            
            <div class="arena-grid">
                
                <div class="char-card hero">
                    <span class="char-name" id="displayHeroiNome">Heroi</span>
                    <div class="stat-row">
                        <span>Estado:</span>
                        <span id="displayHeroi" class="hp-text">...</span>
                    </div>
                </div>

                <div class="char-card enemy">
                    <span class="char-name" id="displayInimigoNome">Inimigo</span>
                    <div class="stat-row">
                        <span>Estado:</span>
                        <span id="displayInimigo" class="hp-text">...</span>
                    </div>
                </div>

            </div>

            <div class="actions-panel">
                <button onclick="jogarTurno('ATACAR')" class="btn-action btn-attack">âš”ï¸ FÃ­sico</button>
                <button onclick="jogarTurno('MAGIA')" class="btn-action btn-magic">âœ¨ Magia</button>
                <button onclick="jogarTurno('CURAR')" class="btn-action btn-heal">ğŸ§ª Curar</button>
                <button onclick="jogarTurno('HABILIDADE_ESPECIAL')" class="btn-action btn-special">ğŸŒŸ SUPREMA</button>
                <button onclick="tentarFugir()" class="btn-action">ğŸƒ Fugir</button>
                <button onclick="ativarModoBerserker()" class="btn-action" style="border-color: #ffaa00;">ğŸ¤– Auto</button>
            </div>

            <div class="log-console" id="listaLogs">
                <div class="log-entry">Aguardando inÃ­cio do combate...</div>
            </div>

        </div>

    </div>

    <script src="js/script.js"></script>

    <script>
        // Sobrescrevendo a funÃ§Ã£o atualizarTela do app.js para separar Nome e HP visualmente
        // Isso Ã© um "Monkey Patch" para funcionar com o novo HTML sem mudar seu app.js original demais
        
        const originalAtualizarTela = atualizarTela; // Guarda a velha

        atualizarTela = function(heroi, inimigo) {
            if(heroi) {
                // Atualiza o Nome separado
                document.getElementById("displayHeroiNome").innerText = heroi.nome;
                // Atualiza o HP/Mana no lugar certo
                const stats = `HP: ${heroi.hp}/${heroi.hpMax} | MP: ${heroi.mana}`;
                document.getElementById("displayHeroi").innerText = stats;
            }
            
            if(inimigo) {
                document.getElementById("displayInimigoNome").innerText = inimigo.nome;
                const stats = `HP: ${inimigo.hp}/${inimigo.hpMax || '?'}`;
                document.getElementById("displayInimigo").innerText = stats;
            }
        }
    </script>

</body>
</html>